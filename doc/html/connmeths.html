<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
<title>4.1.2 Methods </title>
<META NAME="description" CONTENT="4.1.2 Methods ">
<META NAME="keywords" CONTENT="saprfc">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">
<link rel="STYLESHEET" href="saprfc.css">
<LINK REL="previous" href="connattrs.html">
<LINK REL="up" href="classconn.html">
<LINK REL="next" href="classiface.html">
</head>
<body>
<DIV CLASS="navigation">
<table align="center" width="100%" cellpadding="0" cellspacing="2">
<tr>
<td><A href="connattrs.html"><img src="previous.gif"
border="0" height="32"
  alt="Previous Page" width="32"></A></td>
<td><A href="classconn.html"><img src="up.gif"
border="0" height="32"
  alt="Up One Level" width="32"></A></td>
<td><A href="classiface.html"><img src="next.gif"
border="0" height="32"
  alt="Next Page" width="32"></A></td>
<td align="center" width="100%">Python saprfc Manual</td>
<td><A href="contents.html"><img src="contents.gif"
border="0" height="32"
  alt="Contents" width="32"></A></td>
<td><img src="blank.gif"
  border="0" height="32"
  alt="" width="32"></td>
<td><img src="blank.gif"
  border="0" height="32"
  alt="" width="32"></td>
</tr></table>
<b class="navlabel">Previous:</b> <a class="sectref" href="connattrs.html">4.1.1 Attributes</A>
<b class="navlabel">Up:</b> <a class="sectref" href="classconn.html">4.1 class conn</A>
<b class="navlabel">Next:</b> <a class="sectref" href="classiface.html">4.2 class iface</A>
<br><hr>
</DIV>
<!--End of Navigation Panel-->

<H3><A NAME="SECTION000512000000000000000">&nbsp;</A>
<BR>
4.1.2 Methods 
</H3>

<P>
<dl><dt><b><a name='l2h-15'><tt class='method'>discover</tt></a></b>(<var>name="<var>RFC_READ_REPORT</var>"</var>)
<dd>

<P>
Used to look up the definition of an RFC interface.  Returns an instance of <tt class="class">iface</tt>.  This also 
automatically defines any associated <tt class="class">parm</tt>, <tt class="class">tab</tt>, <tt class="class">struct</tt>, and <tt class="class">field</tt> objects
that come together to describe a complete RFC Interface.

<P>
</dl>

<P>
<dl><dt><b><a name='l2h-16'><tt class='method'>structure</tt></a></b>(<var>name="<var>TRDIR</var>"</var>)
<dd>
Discover and return the definition of a valid data dictionary structure.  This could be subsequently used in association with an <tt class="class">parm</tt>, or <tt class="class">tab</tt> object.  Returns a <tt class="class">struct</tt> object.
</dl>

<P>
<dl><dt><b><a name='l2h-17'><tt class='method'>is_connected</tt></a></b>()
<dd>
Test that the conn object is still connected to the SAP system.  Returns true or false.
</dl>

<P>
<dl><dt><b><a name='l2h-18'><tt class='method'>sapinfo</tt></a></b>()
<dd>
Return a hash of the values supplied by the <var>RFC_SYSTEM_INFO</var> function module.  This function is only properly called once, and the data is cached until the RFC connection is closed - then it will be reset next call.
</dl>

<P>
<dl><dt><b><a name='l2h-19'><tt class='method'>callrfc</tt></a></b>(<var>iface=<tt class="class">iface</tt></var>)
<dd>
Do the actual RFC call - this installs all the Export, Import, and Table Parameters in the actual C library of the extension, does the RFC call, Retrieves the table contents, and import parameter contents, and then cleans the libraries storage space again.
</dl>

<P>
<dl><dt><b><a name='l2h-20'><tt class='method'>accept</tt></a></b>(<var>wait=&lt;RFC loop wait interval&gt;, callback=<tt class="class">callback handler instance</tt></var>)
<dd>
   Is the method that launches a registered RFC application into the wait, request, event loop cycle.
   The callback handler is as described in the above examples and must have the method LoopHandler if it is supplied at all (if it isnt supplied - the event is ignored):

<P>
<dl><dd><pre class="verbatim">
class reg:

	def __init__(self):
		self.cnt = 0
		import os

	def LoopHandler(self, srfc):
		self.cnt += 1
		print "inside the customer loop handler - iter: %d ...\n" % self.cnt
		if self.cnt &gt;= 30:
			return -1
		return 1
....
</pre></dl>

<P>
If the LoopHandler() returns &lt; 1, then this is a signal for the accept() loop to exit.

<P>
</dl>

<P>
<dl><dt><b><a name='l2h-21'><tt class='method'>close</tt></a></b>()
<dd>
Close the current open RFC connection to an SAP system.
</dl>

<P>

<DIV CLASS="navigation">
<p><hr>
<table align="center" width="100%" cellpadding="0" cellspacing="2">
<tr>
<td><A href="connattrs.html"><img src="previous.gif"
border="0" height="32"
  alt="Previous Page" width="32"></A></td>
<td><A href="classconn.html"><img src="up.gif"
border="0" height="32"
  alt="Up One Level" width="32"></A></td>
<td><A href="classiface.html"><img src="next.gif"
border="0" height="32"
  alt="Next Page" width="32"></A></td>
<td align="center" width="100%">Python saprfc Manual</td>
<td><A href="contents.html"><img src="contents.gif"
border="0" height="32"
  alt="Contents" width="32"></A></td>
<td><img src="blank.gif"
  border="0" height="32"
  alt="" width="32"></td>
<td><img src="blank.gif"
  border="0" height="32"
  alt="" width="32"></td>
</tr></table>
<b class="navlabel">Previous:</b> <a class="sectref" href="connattrs.html">4.1.1 Attributes</A>
<b class="navlabel">Up:</b> <a class="sectref" href="classconn.html">4.1 class conn</A>
<b class="navlabel">Next:</b> <a class="sectref" href="classiface.html">4.2 class iface</A>
<hr>
<span class="release-info">Release 0.5.0.</span>
</DIV>
<!--End of Navigation Panel-->

</BODY>
</HTML>
